<!doctype html>
<html lang="<%= urlLang %>" dir="<%= dir %>">
  <head>
    <%- include('../partials/meta-tags', { title, description, canonical, ogImage, lang, urlLang, alternateUrl, baseUrl, pageStyles }) %>

    <!-- PayPal SDK (must load statically for document.currentScript support) -->
    <script class="paypal-script" src="https://www.paypal.com/sdk/js?client-id=AQ_Op8cY6HHktDWw0X4y73ydkfGKeN-Tm3T20iWIDPIo4M7OpehX2QYZD0_gpDgtg7RkdRKL51foMNP7&currency=USD&components=buttons"></script>

    <%- bundleScripts %>
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = 'https://www.clarity.ms/tag/' + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, 'clarity', 'script', 'urnhsmmp4u');
    </script>
  </head>

  <body id="cart">
    <%- include('../partials/header', { lang, dir, urlLang }) %>

    <main class="cart-page">
      <div class="whatsapp-container">
        <a href="https://wa.me/972524484763" class="whatsapp-atr"
          ><img src="/imgs/svgs/whatsapp.svg" class="whatsapp-svg" alt=""
        /></a>
      </div>

      <!-- Cart content - populated by client-side JavaScript -->
      <div class="cart-shell">
        <h1 class="cart-page-title cart-title"><%= lang === 'heb' ? 'העגלה שלך' : 'Your Cart' %></h1>
        <h2 class="cart-empty"><%= lang === 'heb' ? 'העגלה שלך ריקה' : 'Your cart is empty' %></h2>
        <div class="cart-layout">
          <section class="cart-items-container" aria-label="Cart items">
            <div class="added-items" data-purpose="cart-items"></div>
            <button class="delete-all" type="button"><%= lang === 'heb' ? 'מחק הכל' : 'Delete All' %></button>
          </section>
          <aside class="summary summary-container" aria-label="Order summary">
            <div class="summary-title"><%= lang === 'heb' ? 'סיכום הזמנה' : 'Order Summary' %></div>
            <div class="summary-details"></div>
            <div class="checkout-btns-container">
              <p class="check-me-out"><%= lang === 'heb' ? 'לתשלום עם:' : 'Check Me Out With:' %></p>
              <button type="button" class="stripe-checkout-btn" id="stripe-checkout-btn">
                <span class="stripe-checkout-main">
                  <span class="stripe-checkout-text"><%= lang === 'heb' ? 'תשלום מאובטח בכרטיס' : 'Pay securely with card' %></span>
                </span>
                <span class="stripe-powered-by" dir="ltr">
                  <span class="stripe-powered-by-label">Powered by</span>
                  <span class="stripe-logo-text" aria-label="Stripe">Stripe</span>
                </span>
              </button>
              <p class="stripe-trust-copy">
                <%= lang === 'heb' ? 'תשלומי כרטיס מעובדים באופן מאובטח על ידי Stripe.' : 'Card payments are processed securely by Stripe.' %>
              </p>
              <div id="paypal"></div>
            </div>
          </aside>
        </div>
        <div class="result-message"></div>
      </div>

      <button class="go-to-top">
        <img
          src="/imgs/svgs/arrow-up-solid-white.svg"
          alt="arrow-up"
          class="arrow-up"
        />
      </button>
    </main>

    <%- include('../partials/footer', { lang, urlLang }) %>
  </body>
</html>
