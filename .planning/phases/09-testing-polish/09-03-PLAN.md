---
phase: 09-testing-polish
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/09-testing-polish/09-TEST-RESULTS.md
  - .planning/phases/09-testing-polish/09-BUGS.md
autonomous: true

must_haves:
  truths:
    - "RTL Hebrew admin interface tested for drag-and-drop"
    - "Performance tested with 200+ product simulation"
    - "Drag responsiveness measured against <100ms threshold"
  artifacts:
    - path: ".planning/phases/09-testing-polish/09-TEST-RESULTS.md"
      provides: "RTL and performance test results"
      contains: "## RTL Testing"
  key_links:
    - from: "Test scenarios"
      to: "Success Criteria 2, 5"
      via: "Documented results"
      pattern: "RTL|performance|200"
---

<objective>
Execute RTL (Hebrew) testing and performance testing for Phase 9 Success Criteria #2 (RTL drag-and-drop) and #5 (200+ products performance).

Purpose: Validate that drag-and-drop works correctly in RTL mode and that performance remains acceptable with larger datasets. Per CONTEXT.md, RTL is "verify it works, not extensive testing" and performance testing is "future-proofing, not urgent."

Output: RTL and performance test results appended to 09-TEST-RESULTS.md
</objective>

<execution_context>
@C:\Users\pagis\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\pagis\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-testing-polish/09-CONTEXT.md
@.planning/phases/09-testing-polish/09-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: RTL Hebrew Admin Testing</name>
  <files>.planning/phases/09-testing-polish/09-TEST-RESULTS.md, .planning/phases/09-testing-polish/09-BUGS.md</files>
  <action>
Execute RTL (Hebrew) testing for drag-and-drop functionality (Success Criterion #2).

**Test Setup:**
1. Switch admin interface to Hebrew (if language toggle exists) OR
2. Modify browser locale/direction settings for RTL OR
3. Use Chrome DevTools to force direction:rtl on body element

**RTL Test Scenarios:**

1. **Product List Visual Layout:**
   - Verify product rows render correctly in RTL
   - Drag handles appear on correct side (should be right side in RTL)
   - Action buttons positioned correctly
   - Text alignment correct

2. **Drag-and-Drop Direction (Success Criterion #2):**
   - Enter reorder mode
   - Drag a product DOWN the list (should work identically to LTR)
   - Verify ghost/preview follows correctly
   - Drop and confirm position change
   - Drag a product UP the list
   - Verify undo/redo work correctly in RTL

3. **Image Gallery RTL:**
   - Open product edit page
   - Verify image thumbnails layout correctly
   - Drag image left (appears right in RTL)
   - Verify reordering works as expected

4. **Modal RTL:**
   - Click product row to open modal
   - Verify modal content layout (text alignment, button positions)
   - Verify close button position (should be top-left in RTL)
   - Verify all actions work

**Document in 09-TEST-RESULTS.md:**
```markdown
## RTL (Hebrew) Testing

### Test Environment
- Method: [Language toggle / DevTools direction:rtl / Browser locale]
- Date: [date]

### Results
| Test | Status | Notes |
|------|--------|-------|
| Product list layout | [PASS/FAIL] | [notes] |
| Drag-and-drop down | [PASS/FAIL] | [notes] |
| Drag-and-drop up | [PASS/FAIL] | [notes] |
| Image gallery drag | [PASS/FAIL] | [notes] |
| Modal layout | [PASS/FAIL] | [notes] |
| Modal actions | [PASS/FAIL] | [notes] |

### RTL Summary
- Overall Status: [PASS/PARTIAL/FAIL]
- v1.1 Impact: [None / Minor cosmetic issues / Blocking]
```

**Per CONTEXT.md:** RTL is "verify it works, not extensive testing" - focus on core functionality, not edge cases.
  </action>
  <verify>
- 09-TEST-RESULTS.md contains "## RTL (Hebrew) Testing" section
- Core drag-and-drop tested in RTL mode
- Results documented with PASS/FAIL status
- Any issues added to 09-BUGS.md
  </verify>
  <done>
RTL testing complete. Drag-and-drop verified to work in RTL mode or issues documented.
  </done>
</task>

<task type="auto">
  <name>Task 2: Large Dataset Performance Testing</name>
  <files>.planning/phases/09-testing-polish/09-TEST-RESULTS.md, .planning/phases/09-testing-polish/09-BUGS.md</files>
  <action>
Execute performance testing with 200+ products (Success Criterion #5).

**Test Setup:**

**Option A: Temporary Data Seeding (preferred)**
Create a temporary script to seed test products:
```javascript
// Run against test database only - NOT production
// Create 200 products in a test category
for (let i = 0; i < 200; i++) {
  await Product.create({
    name: `Test Product ${i}`,
    sku: `TEST-${i.toString().padStart(4, '0')}`,
    category: 'test-performance',
    displayOrder: i,
    // ... minimal required fields
  });
}
```

**Option B: Extrapolation from Current Data**
If seeding not feasible, measure current performance and extrapolate:
- Current: ~40 products
- Measure times, multiply by 5x for 200

**Performance Test Scenarios (Success Criterion #5):**

1. **Page Load with 200+ Products:**
   - Measure time from navigation to products visible
   - Target: < 2 seconds acceptable, > 3 seconds concerning

2. **Drag Responsiveness (from CONTEXT.md: <100ms or broken):**
   - Enter reorder mode with 200+ products
   - Use Chrome DevTools Performance panel
   - Start recording
   - Initiate drag on a product
   - Measure time from mousedown to ghost appearance
   - Target: < 100ms (per CONTEXT.md "must feel instant")

3. **Drop and Rerender:**
   - Drop product in new position
   - Measure time to complete rerender
   - Target: < 200ms

4. **Save Operation:**
   - Reorder several products
   - Click Save
   - Measure API response time
   - Target: < 3 seconds acceptable

**Document in 09-TEST-RESULTS.md:**
```markdown
## Performance Testing (200+ Products)

### Test Environment
- Method: [Data seeding / Extrapolation]
- Product Count: [actual count]
- Browser: Chrome [version]
- Date: [date]

### Results
| Test | Target | Actual | Status |
|------|--------|--------|--------|
| Page Load | < 2s | [time] | [PASS/FAIL] |
| Drag Initiation | < 100ms | [time] | [PASS/FAIL] |
| Drop Rerender | < 200ms | [time] | [PASS/FAIL] |
| Save API | < 3s | [time] | [PASS/FAIL] |

### Performance Summary
- Overall Status: [PASS/ACCEPTABLE/NEEDS OPTIMIZATION]
- v1.1 Impact: [None / Defer optimization to v1.2]
- Notes: [Current catalog ~40 products, 200+ is future-proofing]
```

**Per CONTEXT.md:** Performance testing is "future-proofing, not urgent" - document findings, defer optimization if needed.

**Cleanup:** Delete test products after testing if seeded.
  </action>
  <verify>
- 09-TEST-RESULTS.md contains "## Performance Testing" section
- Drag responsiveness measured against <100ms threshold
- Results documented with timing data
- Cleanup completed (test products removed if created)
  </verify>
  <done>
Performance testing complete. Drag responsiveness verified <100ms or issue documented. 200+ product handling assessed.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. RTL testing documented with core drag-and-drop verified
2. Performance testing documented with timing measurements
3. Any issues added to 09-BUGS.md with appropriate priority
</verification>

<success_criteria>
- RTL drag-and-drop verified to work (or issues documented for v1.2)
- Drag responsiveness <100ms confirmed (or performance issue documented)
- 200+ product handling assessed (acceptable or optimization deferred to v1.2)
</success_criteria>

<output>
After completion, create `.planning/phases/09-testing-polish/09-03-SUMMARY.md`
</output>
